# PA-012: 投票基準の明確化

## ステータス: Done

## 概要

投票ページで「何を基準に判断すべきか」を明示し、ユーザーが適切な投票を行えるようにする。

## 背景

現状の問題点：
- 投票ページで「Which is better?」と表示されるが、判断基準が曖昧
- ユーザーは何を基準に判断すべきか不明（使いやすさ？機能の多さ？安定性？ドキュメント？）
- 結果として投票の質にばらつきが生じる可能性
- 両方のプラグインを知らない場合の対処法も不明確

## 要件

### 機能要件

1. **投票基準ガイダンスの表示**
   - 投票ページに判断基準を明示するテキストを追加
   - 例: 「あなたが実際に使うならどちらを選びますか？」
   - または: 「機能性・使いやすさ・ドキュメント品質を総合的に判断してください」

2. **投票オプションの拡充**
   - 「Skip」に加えて「Both are unknown」オプションを追加
   - 両方知らない場合はELO変動なしとして記録（統計目的）

3. **ファーストタイム説明**
   - 初回訪問者向けに投票方法の簡単なオンボーディング
   - 1回表示後はローカルストレージで非表示に

### UI/UX要件

- 判断基準は目立ちすぎず、補助的な位置に配置
- 投票フローの速度を阻害しない
- 国際化対応（日本語/英語）

### 非機能要件

- 既存の投票APIへの影響を最小限に
- ページロード速度への影響なし

## 実装詳細

### 変更ファイル

| ファイル | 変更内容 |
|----------|----------|
| `src/components/VoteComparison.tsx` | 判断基準テキスト追加、「Both unknown」ボタン追加 |
| `src/app/api/vote/route.ts` | unknown投票の処理（オプション） |
| `src/i18n/messages/en.json` | 翻訳追加 |
| `src/i18n/messages/ja.json` | 翻訳追加 |

### 翻訳キー案

```json
{
  "vote": {
    "criteria": "Choose based on functionality, ease of use, and documentation quality",
    "criteriaHint": "Pick the one you would actually use",
    "bothUnknown": "I don't know either",
    "skipTooltip": "Skip if you prefer not to vote on this pair"
  }
}
```

### UIデザイン案

```
┌─────────────────────────────────────────────────┐
│                Which is better?                  │
│   Pick the one you would actually use            │  ← 追加
├─────────────────────┬───────────────────────────┤
│     Plugin A        │        Plugin B            │
│     ...             │        ...                 │
├─────────────────────┴───────────────────────────┤
│  [1] Choose A    [S] Skip    [2] Choose B       │
│         [I don't know either plugin]             │  ← 追加
└─────────────────────────────────────────────────┘
```

## テスト項目

- [x] 判断基準テキストが表示される
- [x] 「Both unknown」ボタンが機能する
- [x] 日本語/英語で正しく翻訳される
- [x] キーボードショートカット追加（`U`キーでunknown）
- [ ] モバイルで表示崩れがない（レスポンシブ対応済み、要手動確認）

## 優先度

High - 投票品質に直接影響

## 見積もり

実装工数: 小規模
