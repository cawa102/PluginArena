# PA-005: 管理画面完成

## 概要
管理画面の機能を完成させ、運用に必要な機能を追加する。

## ステータス
**Done**

## 優先度
Medium

## 依存
- PA-001（データベースセットアップ）

## 作業内容

### 1. プラグイン管理機能強化
- [x] プラグイン編集機能（名前、説明、キーワード）
- [x] カテゴリ変更機能
- [x] 一括非表示/表示
- [x] プラグイン削除（hard delete実装）

### 2. コメントモデレーション強化
- [x] コメント検索/フィルタ
- [ ] 一括非表示（未実装：個別対応で十分と判断）
- [ ] スパム報告の確認機能（未実装：将来対応）

### 3. 統計ダッシュボード
- [x] 総プラグイン数
- [x] 総投票数
- [x] 今日の投票数
- [x] 最近のコメント数（7日間）
- [x] カテゴリ別プラグイン数

### 4. 収集ログ表示
- [ ] 最近の収集結果表示（未実装：将来対応）
- [x] 手動収集トリガーボタン

### 5. 認証強化
- [ ] セッション管理（未実装：現状のトークン認証で運用可能）
- [x] ログアウト機能
- [ ] トークンの有効期限（未実装：将来対応）

## 関連ファイル
- `src/app/admin/page.tsx`
- `src/app/api/admin/plugins/route.ts`
- `src/app/api/admin/comments/route.ts`
- `src/app/api/admin/stats/route.ts`（新規作成）

## 完了条件
- [x] プラグインの追加・編集・非表示が可能
- [x] コメントのモデレーションが可能
- [x] 統計情報が表示される
- [x] セキュアな認証が機能している

## 実装済み機能

### 新規追加されたAPI
- `GET /api/admin/stats` - 統計情報取得
- `DELETE /api/admin/plugins` - プラグイン削除
- `PATCH /api/admin/plugins` (ids配列対応) - 一括更新

### 管理画面の新機能
1. **ダッシュボードタブ**: 統計カード、カテゴリ別集計、手動収集ボタン
2. **プラグイン管理**: 編集モーダル、削除機能、チェックボックス選択、一括非表示/表示
3. **コメント管理**: テキスト検索、プラグインフィルタ
4. **ログアウト機能**: ヘッダーにログアウトボタン追加
